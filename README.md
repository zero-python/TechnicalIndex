# TechnicalIndex
### 这是一个基于事件驱动设计模式的技术指标算法，可用股市预测行情趋势。目前已实现MACD,KDJ,MA,RSI等重要指标。为了便捷的使用，简单封装成该接口，以便需要的人使用。
## 调用方式

### 1：数据源要求：
   传入pandas结构的行情数据如下：

   必要参数：
   #### date open high low close。
   
```python
           ts_code      date   open   high    low  close  pre_close  change  \
0     603019.SH  20191104  33.69  34.45  33.48  33.85      33.50    0.35   
1     603019.SH  20191101  33.36  33.64  33.11  33.50      33.42    0.08   
2     603019.SH  20191031  33.72  34.20  33.37  33.42      33.78   -0.36   
3     603019.SH  20191030  34.34  34.34  33.52  33.78      34.34   -0.56   
4     603019.SH  20191029  35.25  35.25  34.33  34.34      35.35   -1.01   
5     603019.SH  20191028  35.30  35.50  34.44  35.35      34.00    1.35   
6     603019.SH  20191025  34.08  34.11  33.59  34.00      33.84    0.16   
7     603019.SH  20191024  33.93  34.14  33.35  33.84      33.93   -0.09   
8     603019.SH  20191023  33.65  34.37  33.38  33.93      33.73    0.20   
9     603019.SH  20191022  33.30  33.86  33.30  33.73      33.30    0.43   
10    603019.SH  20191021  34.00  34.10  33.06  33.30      33.88   -0.58   
11    603019.SH  20191018  34.37  34.83  33.81  33.88      34.30   -0.42   
12    603019.SH  20191017  34.60  34.78  34.23  34.30      34.67   -0.37   
13    603019.SH  20191016  34.50  35.35  34.21  34.67      34.28    0.39   
14    603019.SH  20191015  35.18  35.30  34.25  34.28      35.57   -1.29   
15    603019.SH  20191014  35.20  35.74  35.09  35.57      34.64    0.93   
16    603019.SH  20191011  35.00  35.09  34.31  34.64      34.96   -0.32   
17    603019.SH  20191010  34.45  35.05  34.21  34.96      34.48    0.48   
18    603019.SH  20191009  33.99  34.48  33.45  34.48      34.16    0.32   
19    603019.SH  20191008  34.50  34.82  34.11  34.16      34.33   -0.17   
20    603019.SH  20190930  34.78  35.19  34.32  34.33      34.97   -0.64   
21    603019.SH  20190927  34.88  35.49  34.82  34.97      34.81    0.16   
22    603019.SH  20190926  36.50  36.70  34.73  34.81      36.39   -1.58   
23    603019.SH  20190925  37.60  37.60  36.30  36.39      37.74   -1.35   
24    603019.SH  20190924  36.81  38.10  36.81  37.74      36.99    0.75   
25    603019.SH  20190923  37.51  37.51  36.48  36.99      38.01   -1.02   
26    603019.SH  20190920  39.00  39.60  37.60  38.01      37.40    0.61   
27    603019.SH  20190919  37.36  37.45  36.71  37.40      36.93    0.47   
28    603019.SH  20190918  37.31  37.62  36.90  36.93      37.37   -0.44   
29    603019.SH  20190917  39.00  39.00  37.00  37.37      39.19   -1.82   
...         ...       ...    ...    ...    ...    ...        ...     ...   
1171  603019.SH  20141218  49.65  53.90  49.50  51.22      50.00    1.22   
1172  603019.SH  20141217  48.80  51.88  48.50  50.00      50.18   -0.18   
1173  603019.SH  20141216  51.90  52.60  50.00  50.18      52.91   -2.73   
1174  603019.SH  20141215  50.90  53.60  48.88  52.91      53.32   -0.41   
1175  603019.SH  20141212  61.50  62.99  52.00  53.32      57.49   -4.17   
1176  603019.SH  20141211  52.90  57.49  52.28  57.49      52.26    5.23   
1177  603019.SH  20141210  50.81  54.99  48.02  52.26      51.08    1.18   
1178  603019.SH  20141209  53.21  59.00  50.78  51.08      56.42   -5.34   
1179  603019.SH  20141208  56.42  56.42  56.42  56.42      51.29    5.13   
1180  603019.SH  20141205  51.29  51.29  51.29  51.29      46.63    4.66   
1181  603019.SH  20141203  46.63  46.63  46.63  46.63      42.39    4.24   
1182  603019.SH  20141202  42.39  42.39  42.39  42.39      38.54    3.85   
1183  603019.SH  20141201  38.54  38.54  38.54  38.54      35.04    3.50   
1184  603019.SH  20141128  35.04  35.04  35.04  35.04      31.85    3.19   
1185  603019.SH  20141127  31.85  31.85  31.85  31.85      28.95    2.90   
1186  603019.SH  20141126  28.95  28.95  28.95  28.95      26.32    2.63   
1187  603019.SH  20141125  26.32  26.32  26.32  26.32      23.93    2.39   
1188  603019.SH  20141124  23.93  23.93  23.93  23.93      21.75    2.18   
1189  603019.SH  20141121  21.75  21.75  21.75  21.75      19.77    1.98   
1190  603019.SH  20141120  19.77  19.77  19.77  19.77      17.97    1.80   
1191  603019.SH  20141119  17.97  17.97  17.97  17.97      16.34    1.63   
1192  603019.SH  20141118  16.34  16.34  16.34  16.34      14.85    1.49   
1193  603019.SH  20141117  14.85  14.85  14.85  14.85      13.50    1.35   
1194  603019.SH  20141114  13.50  13.50  13.50  13.50      12.27    1.23   
1195  603019.SH  20141113  12.27  12.27  12.27  12.27      11.15    1.12   
1196  603019.SH  20141112  11.15  11.15  11.15  11.15      10.14    1.01   
1197  603019.SH  20141111  10.14  10.14  10.14  10.14       9.22    0.92   
1198  603019.SH  20141110   9.22   9.22   9.22   9.22       8.38    0.84   
1199  603019.SH  20141107   8.38   8.38   8.38   8.38       7.62    0.76   
1200  603019.SH  20141106   7.62   7.62   7.62   7.62       5.29    2.33   

```

### 代码：

``` python
from Technical.main import Technical
df = '' # 自定义输入，必须带有必要的参数：data, open, close, high, low
tech_obj = Technical(df)
print(tech_obj.ma)
print(tech_obj.macd)
print(tech_obj.kdj)
```

### 结果：
#### ma:
``` python
        MA10     MA20     MA5       MA60      date
0      0.000   0.0000   0.000   0.000000  20141106
1      0.000   0.0000   0.000   0.000000  20141107
2      0.000   0.0000   0.000   0.000000  20141110
3      0.000   0.0000   0.000   0.000000  20141111
4      0.000   0.0000   9.302   0.000000  20141112
5      0.000   0.0000  10.232   0.000000  20141113
6      0.000   0.0000  11.256   0.000000  20141114
7      0.000   0.0000  12.382   0.000000  20141117
8      0.000   0.0000  13.622   0.000000  20141118
9     12.144   0.0000  14.986   0.000000  20141119
10    13.359   0.0000  16.486   0.000000  20141120
11    14.696   0.0000  18.136   0.000000  20141121
12    16.167   0.0000  19.952   0.000000  20141124
13    17.785   0.0000  21.948   0.000000  20141125
14    19.565   0.0000  24.144   0.000000  20141126
15    21.523   0.0000  26.560   0.000000  20141127
16    23.677   0.0000  29.218   0.000000  20141128
17    26.046   0.0000  32.140   0.000000  20141201
18    28.651   0.0000  35.354   0.000000  20141202
19    31.517  21.8305  38.890   0.000000  20141203
20    34.669  24.0140  42.778   0.000000  20141205
21    38.136  26.4160  47.054   0.000000  20141208
22    40.851  28.5090  49.562   0.000000  20141209
23    43.445  30.6150  51.536   0.000000  20141210
24    46.299  32.9320  53.708   0.000000  20141211
25    48.446  34.9845  54.114   0.000000  20141212
26    50.233  36.9550  53.412   0.000000  20141215
27    51.397  38.7215  53.232   0.000000  20141216
28    52.158  40.4045  52.780   0.000000  20141217
29    52.617  42.0670  51.526   0.000000  20141218
...      ...      ...     ...        ...       ...
1171  38.601  36.8695  38.484  35.500833  20190917
1172  38.591  36.9720  38.124  35.449000  20190918
1173  38.451  37.0920  37.928  35.396500  20190919
1174  38.394  37.2415  37.780  35.421667  20190920
1175  38.203  37.3575  37.340  35.453167  20190923
1176  37.949  37.5095  37.414  35.438667  20190924
1177  37.715  37.5745  37.306  35.427667  20190925
1178  37.358  37.5905  36.788  35.390167  20190926
1179  36.980  37.5685  36.180  35.366500  20190927
1180  36.494  37.5150  35.648  35.333833  20190930
1181  36.173  37.3870  34.932  35.318500  20191008
1182  35.928  37.2595  34.550  35.316500  20191009
1183  35.684  37.0675  34.580  35.318833  20191010
1184  35.347  36.8705  34.514  35.321500  20191011
1185  35.205  36.7040  34.762  35.329000  20191014
1186  34.859  36.4040  34.786  35.301667  20191015
1187  34.687  36.2010  34.824  35.286500  20191016
1188  34.636  35.9970  34.692  35.263000  20191017
1189  34.527  35.7535  34.540  35.260333  20191018
1190  34.424  35.4590  34.086  35.250500  20191021
1191  34.381  35.2770  33.976  35.260167  20191022
1192  34.326  35.1270  33.828  35.250000  20191023
1193  34.214  34.9490  33.736  35.237667  20191024
1194  34.150  34.7485  33.760  35.209667  20191025
1195  34.128  34.6665  34.170  35.208000  20191028
1196  34.134  34.4965  34.292  35.192167  20191029
1197  34.045  34.3660  34.262  35.169667  20191030
1198  33.957  34.2965  34.178  35.134000  20191031
1199  33.919  34.2230  34.078  35.107000  20191101
1200  33.974  34.1990  33.778  35.104333  20191104

```
#### macd

``` python
         DEA     DIF   EMA12   EMA26   MACD      date
0      0.000   0.000   7.620   7.620  0.000  20141106
1      0.012   0.061   7.737   7.676  0.098  20141107
2      0.045   0.174   7.965   7.791  0.258  20141110
3      0.103   0.335   8.300   7.965  0.464  20141111
4      0.190   0.537   8.738   8.201  0.694  20141112
5      0.308   0.780   9.282   8.502  0.944  20141113
6      0.458   1.059   9.931   8.872  1.202  20141114
7      0.641   1.372  10.687   9.315  1.462  20141117
8      0.857   1.722  11.557   9.835  1.730  20141118
9      1.107   2.106  12.544  10.438  1.998  20141119
10     1.391   2.526  13.655  11.129  2.270  20141120
11     1.709   2.985  14.901  11.916  2.552  20141121
12     2.064   3.484  16.290  12.806  2.840  20141124
13     2.457   4.026  17.833  13.807  3.138  20141125
14     2.888   4.614  19.543  14.929  3.452  20141126
15     3.362   5.255  21.437  16.182  3.786  20141127
16     3.879   5.950  23.529  17.579  4.142  20141128
17     4.445   6.707  25.839  19.132  4.524  20141201
18     5.062   7.531  28.385  20.854  4.938  20141202
19     5.735   8.428  31.192  22.764  5.386  20141203
20     6.470   9.407  34.284  24.877  5.874  20141205
21     7.271  10.477  37.690  27.213  6.412  20141208
22     7.971  10.769  39.750  28.981  5.596  20141209
23     8.570  10.968  41.674  30.706  4.796  20141210
24     9.139  11.417  44.107  32.690  4.556  20141211
25     9.573  11.307  45.525  34.218  3.468  20141212
26     9.870  11.059  46.661  35.602  2.378  20141215
27    10.000  10.520  47.202  36.682  1.040  20141216
28     9.993   9.964  47.633  37.669 -0.058  20141217
29     9.897   9.512  48.185  38.673 -0.770  20141218
...      ...     ...     ...     ...    ...       ...
1171   1.015   1.125  37.887  36.762  0.220  20190917
1172   1.005   0.965  37.739  36.774 -0.080  20190918
1173   0.977   0.866  37.687  36.821 -0.222  20190919
1174   0.947   0.828  37.737  36.909 -0.238  20190920
1175   0.899   0.707  37.622  36.915 -0.384  20190923
1176   0.852   0.664  37.640  36.976 -0.376  20190924
1177   0.785   0.515  37.448  36.933 -0.540  20190925
1178   0.681   0.267  37.042  36.775 -0.828  20190926
1179   0.561   0.081  36.723  36.642 -0.960  20190927
1180   0.426  -0.115  36.355  36.470 -1.082  20190930
1181   0.284  -0.282  36.017  36.299 -1.132  20191008
1182   0.151  -0.383  35.781  36.164 -1.068  20191009
1183   0.037  -0.420  35.655  36.075 -0.914  20191010
1184  -0.065  -0.471  35.498  35.969 -0.812  20191011
1185  -0.138  -0.430  35.509  35.939 -0.584  20191014
1186  -0.209  -0.496  35.320  35.816 -0.574  20191015
1187  -0.270  -0.512  35.220  35.732 -0.484  20191016
1188  -0.325  -0.547  35.079  35.626 -0.444  20191017
1189  -0.381  -0.602  34.894  35.496 -0.442  20191018
1190  -0.442  -0.685  34.649  35.334 -0.486  20191021
1191  -0.495  -0.707  34.508  35.215 -0.424  20191022
1192  -0.536  -0.701  34.419  35.120 -0.330  20191023
1193  -0.568  -0.695  34.330  35.025 -0.254  20191024
1194  -0.588  -0.670  34.279  34.949 -0.164  20191025
1195  -0.578  -0.535  34.444  34.979  0.086  20191028
1196  -0.563  -0.503  34.428  34.931  0.120  20191029
1197  -0.554  -0.518  34.328  34.846  0.072  20191030
1198  -0.553  -0.552  34.188  34.740  0.002  20191031
1199  -0.556  -0.566  34.083  34.649 -0.020  20191101
1200  -0.553  -0.542  34.047  34.589  0.022  20191104

```

#### kdj

``` python
           D        J       K      RSV      date
0      0.000    0.000   0.000    0.000  20141106
1      0.000    0.000   0.000    0.000  20141107
2      0.000    0.000   0.000    0.000  20141110
3      0.000    0.000   0.000    0.000  20141111
4      0.000    0.000   0.000    0.000  20141112
5      0.000    0.000   0.000    0.000  20141113
6      0.000    0.000   0.000    0.000  20141114
7      0.000    0.000   0.000    0.000  20141117
8     55.556   88.889  66.667  100.000  20141118
9     62.963  107.408  77.778  100.000  20141119
10    70.370  114.815  85.185  100.000  20141120
11    76.955  116.459  90.123  100.000  20141121
12    82.442  115.364  93.416  100.000  20141124
13    86.831  113.168  95.610  100.000  20141125
14    90.245  110.732  97.074  100.000  20141126
15    92.847  108.453  98.049  100.000  20141127
16    94.797  106.503  98.699  100.000  20141128
17    96.243  104.913  99.133  100.000  20141201
18    97.302  103.662  99.422  100.000  20141202
19    98.073  102.699  99.615  100.000  20141203
20    98.630  101.969  99.743  100.000  20141205
21    99.030  101.427  99.829  100.000  20141208
22    96.386   80.528  91.100   73.644  20141209
23    92.855   71.666  85.792   75.175  20141210
24    91.379   82.523  88.427   93.698  20141211
25    87.287   62.732  79.102   60.450  20141212
26    81.443   46.385  69.757   51.068  20141215
27    72.208   16.798  53.738   21.699  20141216
28    61.550   -2.398  40.234   13.226  20141217
29    52.349   -2.854  33.948   21.376  20141218
...      ...      ...     ...      ...       ...
1171  68.415   25.968  54.266   18.108  20190917
1172  57.764   -6.139  36.463    0.857  20190918
1173  48.690   -5.754  30.542   18.699  20190919
1174  43.162    9.991  32.105   35.230  20190920
1175  37.400    2.831  25.877   13.421  20190923
1176  34.863   19.638  29.788   37.612  20190924
1177  30.145    1.837  20.709    2.550  20190925
1178  24.873   -6.759  14.329    1.569  20190926
1179  20.314   -7.043  11.195    4.928  20190927
1180  16.051   -9.521   7.527    0.189  20190930
1181  12.475   -8.987   5.321    0.911  20191008
1182  11.360    4.670   9.130   16.748  20191009
1183  13.210   24.313  16.911   32.473  20191010
1184  15.408   28.596  19.804   25.591  20191011
1185  20.349   49.995  30.231   51.084  20191014
1186  23.122   39.757  28.667   25.538  20191015
1187  27.704   55.199  36.869   53.275  20191016
1188  30.787   49.282  36.952   37.118  20191017
1189  30.823   31.036  30.894   18.777  20191018
1190  28.409   13.925  23.581    8.955  20191021
1191  26.957   18.248  24.054   25.000  20191022
1192  26.924   26.723  26.857   32.463  20191023
1193  27.151   28.516  27.606   29.104  20191024
1194  28.796   38.669  32.087   41.048  20191025
1195  36.756   84.513  52.675   93.852  20191028
1196  42.038   73.733  52.603   52.459  20191029
1197  42.994   48.727  44.905   29.508  20191030
1198  40.281   24.000  34.854   14.754  20191031
1199  36.412   13.204  28.676   16.318  20191101
1200  34.088   20.138  29.438   30.962  20191104
```
